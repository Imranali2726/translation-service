Translation Management Service


A simple API-driven service built with Laravel 10 to manage translations for multiple locales. This service allows you to create, update, retrieve, and export translations for various languages. It also supports token-based authentication using Laravel Sanctum to secure the API.

Installation
Follow these steps to set up the Translation Management Service on your local machine:

1. Clone the Repository
First, clone the repository:


git clone https://github.com/your-username/translation-service.git
cd translation-service
2. Install Dependencies
Install the required dependencies using Composer:


composer install
This will install all the necessary dependencies listed in the composer.json file.

3. Set Up the Environment
Copy the .env.example file to .env:


cp .env.example .env
Then, generate the application key:


php artisan key:generate
4. Set Up Database
Make sure your .env file has the correct database configuration. For example, if you are using MySQL:

dotenv
Copy
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=translation_service
DB_USERNAME=root
DB_PASSWORD=
Create the database:


mysql -u root -p
CREATE DATABASE translation_service;
5. Run Migrations
Run the migrations to set up the necessary tables:


php artisan migrate
6. Install Sanctum (for API Authentication)
Install Sanctum for token-based authentication:


composer require laravel/sanctum
Publish the Sanctum configuration:


php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"
Run Sanctum's migration to create the necessary tables:

php artisan migrate
7. Set Up Apache (Optional)
If you're using Apache for local development, make sure your VirtualHost is set correctly (as outlined in a previous section).

Configuration
Ensure you have the correct configurations in the .env file for your database and other settings, including:

APP_ENV: Set to local for development or production for production environments.

APP_KEY: This is generated by php artisan key:generate and should be unique.

SANCTUM_SECRET_KEY: Used for API authentication via Sanctum.

API Endpoints
Here’s a brief overview of the API endpoints available in the service:

1. POST /api/register
Register a new user and generate a token.

Request:


{
    "name": "imran",
    "email": "imran@gmail.com",
    "password": "password123",
    "password_confirmation": "password123"
}
Response:

{
    "user": {
        "id": 1,
        "name": "imran",
        "email": "imran@gmail.com"
    },
    "token": "your-token-here"
}
2. POST /api/login
Login a user and generate a token.

Request:

{
    "email": "imran@gmail.com",
    "password": "password123"
}
Response:

{
    "user": {
        "id": 1,
        "name": "imran",
        "email": "imran@gmail.com"
    },
    "token": "your-token-here"
}
3. GET /api/translations
Get a list of translations with optional filters.

Request:

GET /api/translations?locale=en&tag=web
Response:


[
    {
        "id": 1,
        "locale": "en",
        "key": "welcome_message",
        "value": "Welcome to the translation service",
        "tag": "web"
    }
]
4. POST /api/translations
Create a new translation.

Request:

{
    "locale": "en",
    "key": "hello_world",
    "value": "Hello, world!",
    "tag": "web"
}
Response:

{
    "id": 2,
    "locale": "en",
    "key": "hello_world",
    "value": "Hello, world!",
    "tag": "web"
}
5. PUT /api/translations/{id}
Update an existing translation.

Request:

{
    "value": "Hello, World Updated!"
}
Response:

{
    "id": 2,
    "locale": "en",
    "key": "hello_world",
    "value": "Hello, World Updated!",
    "tag": "web"
}
6. GET /api/translations/export/{locale}
Export translations for a specific locale.

Request:

GET /api/translations/export/en
Response:

{
    "translations": [
        {
            "key": "welcome_message",
            "value": "Welcome to the translation service"
        }
    ]
}
Design Choices
1. Database Schema:
Translations Table: The database schema for translations uses the columns locale, key, value, and tag. The locale helps identify the language (e.g., en, fr), and the key is used to reference specific strings (e.g., welcome_message).

2. Sanctum for Authentication:
Token-Based Authentication: I’ve implemented Sanctum for API token authentication. This ensures that the API can securely handle requests and identify users. Tokens are returned after user registration or login and are used in subsequent requests to authenticate users.

3. Repository Pattern:
The TranslationRepository is used to separate the logic for interacting with the database from the controller. This follows the SOLID principles and allows for easy maintenance and testing.

4. Validation:
Laravel’s built-in validation is used to ensure that all required fields are properly validated before interacting with the database.

5. Controller Structure:
The TranslationController handles the API requests. It uses dependency injection to inject the TranslationService into the controller, ensuring separation of concerns.

Testing
You can run unit tests and feature tests to ensure that the application works as expected.

1. Run Unit Tests
Run the following command to execute unit tests:

php artisan test
This will run all tests, including those for registration, login, and API endpoints.

2. Run Feature Tests
You can write feature tests for individual API endpoints to ensure everything works correctly.

php artisan make:test TranslationApiTest